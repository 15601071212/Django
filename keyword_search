<form action="{% url 'keyword_search' %}" method="POST"> 
{% csrf_token %} 

<div class="search-box">
<input type="text"  id="search" name="keyword" placeholder="请输入要查询的关键字所包含的内容" class="search-input"> 
<div id="results" style="display: none;"></div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function(){
    $('#search').on('input', function(e){
        $.get('/search/', {q: $(this).val()}, function(data){
            $('#results').empty();
            if (data.length > 0) {
                $('#results').show();
                $.each(data, function(i, item){
                    $('#results').append('<div>' + item.name + '</div>');
                });
            } else {
                $('#results').hide();
            }
        });
    });
});
</script>

urls.py

from django.urls import re_path as url

from . import views
from .views import SearchView

from django.urls import path

urlpatterns =[
     url('keyword_search', views.keyword_search, name='keyword_search'),
     url('detail', views.detail_view, name='detail'),
     url('search/', SearchView.as_view(), name='search')
        ]
<button type="submit"  class="search-button">查询</button> 
</div>
</form>

views.py

from django.shortcuts import render,get_object_or_404
import re
import time
from srm.models import KeywordPost
from srm.models import KeywordList
from srm.models import ScriptPost

from django.http import JsonResponse
from django.views import View
from django.core import serializers
from django.db.models import Q

class SearchView(View):
    def get(self, request):
        query = request.GET.get('q', None)
        if query:
            results = KeywordList.objects.filter(kyeword_name__icontains=query)
            data = serializers.serialize('json', results)
            return JsonResponse(data, safe=False)
        return JsonResponse({}, status=400)


<!DOCTYPE html>
<html>
<head>
    <title>搜索框自动提示</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>搜索框自动提示</h1>
    <input type="text" id="search-box" placeholder="输入查询关键字">
    <div id="suggestions-container"></div>
</body>
</html>

<script>
$(document).ready(function() {
    $("#search-box").on("input", function() {
        var keyword = $(this).val();

        // 使用Ajax发送关键字到后端，并获取匹配的提示信息
        $.ajax({
            url: "/api/search/",  // 这里是后端Django开发的API地址
            method: "GET",
            data: {
                "keyword": keyword
            },
            success: function(response) {
                // 清空之前的提示信息
                $("#suggestions-container").empty();

                // 显示后端返回的提示信息
                for (var i = 0; i < response.length; i++) {
                    $("#suggestions-container").append("<div>" + response[i] + "</div>");
                }
            },
            error: function(error) {
                console.log("请求错误: " + error);
            }
        });
    });
});
</script>

from django.http import JsonResponse

def search_view(request):
    if request.method == 'GET':
        keyword = request.GET.get('keyword', '')
        # 在这里根据关键字查询数据库，并获取匹配的内容
        # 假设你已经获取了匹配的内容，存放在matches列表中
        matches = ["结果1", "结果2", "结果3"]
        return JsonResponse(matches, safe=False)
